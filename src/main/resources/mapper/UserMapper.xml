<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wild.mapper.WUserMapper">

	<!-- 注册 -->
	<insert id="register" parameterType="WUser">
		insert into wuser
		(WID,WNickName,WSex,WUserNum,WPassWord,WAge,WDate,WStatus,WSuperManager)
		values(#{WID},#{WNickName},#{WSex},#{WUserNum},#{WPassWord},#{WAge},#{WDate},#{WStatus},#{WSuperManager})
	</insert>

	<!-- 查看手机号码唯一 -->
	<select id="telForOnly" parameterType="String" resultType="String">
		select
		WUserNum,WNickName
		from wuser where (WNickName=#{WNickName}||WUserNum=#{WUserNum}) 
	</select>
	<!-- 登录 -->
	<select id="login" parameterType="WUser" resultType="WUser">
		select *
		from wuser where
		(WUserNum=#{WUserNum} or WNickName=#{WNickName}) and
		WPassWord=#{WPassWord}
	</select>

	<!-- 忘记密码 -->
	<update id="lostPassWord" parameterType="WUser">
		update wuser set
		WPassWord=#{WPassWord} where WUserNum=#{WUserNum}
	</update>
</mapper>